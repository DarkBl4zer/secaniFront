<div class="container-fluid">
  <h1 class="mt-5 mb-4">Nueva plantilla de correo</h1>

  <div class="card border border-0 py-5 px-4">
    <div class="card-body">
      <form [formGroup]="plantillaCorreoForm" (ngSubmit)="onSubmit()">
        <!-- Primera Fila -->
        <div class="row mb-3">
          <!-- Columna Tipo Plantilla -->
          <div class="col-12 col-md-2 mb-1 mb-md-0 fw-semibold">Tipo de Plantilla:</div>
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <p-dropdown [options]="tiposPlantillas" formControlName="tipoPlantilla" styleClass="w-100" placeholder="Seleccione"/>
            <small *ngIf="isValidField('tipoPlantilla')" class="text-danger">{{ getFieldError('tipoPlantilla') }}</small>
          </div>

          <!-- Columna Firmante -->
          <div class="col-12 col-md-1 mb-1 mb-md-0 fw-semibold">Firmate:</div>
          <div class="col-12 col-md-5">
            <p-dropdown [options]="firmantes" formControlName="firmante" styleClass="w-100" placeholder="Seleccione"/>
            <small *ngIf="isValidField('firmante')" class="text-danger">{{ getFieldError('firmante') }}</small>
          </div>
        </div>

        <!-- Segunda Fila -->
        <div class="row mb-4">
          <!-- Columna Nombre de la Notificación -->
          <div class="col-12 col-md-2 mb-1 mb-md-0 fw-semibold">Nombre de la platilla:</div>
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <input type="text" formControlName="nombre" pInputText class="w-100"/>
            <small *ngIf="isValidField('nombre')" class="text-danger">{{ getFieldError('nombre') }}</small>
          </div>

          <!-- Estado -->
          <div class="col-12 col-md-1 mb-1 mb-md-0 fw-semibold">Estado:</div>
          <div class="col-12 col-md-5">
            <p-dropdown [options]="estados" optionLabel="label" optionValue="value" formControlName="estado" styleClass="w-100" placeholder="Seleccione"/>
            <small *ngIf="isValidField('estado')" class="text-danger">{{ getFieldError('estado') }}</small>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-12 col-md-2 mb-1 mb-md-0 fw-semibold">Asunto:</div>
          <div class="col-12 col-md-10">
            <textarea rows="2" formControlName="asunto" pInputTextarea class="w-100"></textarea>
            <small *ngIf="isValidField('asunto')" class="text-danger mt-1">{{ getFieldError('asunto') }}</small>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-12 col-md-2 mb-1 mb-md-0 fw-semibold">Mensaje:</div>
          <div class="col-12 col-md-10">
            <p-editor [style]="{ height: '200px' }" formControlName="mensaje">
              <ng-template pTemplate="header">
                <span class="ql-formats">
                  <select class="ql-header">
                    <option value="1">Título 1</option>
                    <option value="2">Título 2</option>
                    <option selected>Normal</option>
                  </select>
                  <select class="ql-font">
                    <option selected>Sans Serif</option>
                    <option value="serif">Serif</option>
                    <option value="monospace">Monospace</option>
                  </select>
                </span>
                <span class="ql-formats">
                  <button type="button" class="ql-bold" aria-label="Negrita"></button>
                  <button type="button" class="ql-italic" aria-label="Cursiva"></button>
                  <button type="button" class="ql-underline" aria-label="Subrayado"></button>
                </span>
                <span class="ql-formats">
                  <button type="button" class="ql-list" value="ordered" aria-label="Lista ordenada"></button>
                  <button type="button" class="ql-list" value="bullet" aria-label="Lista con viñetas"></button>
                </span>
                <span class="ql-formats">
                  <button type="button" class="ql-align" value="" aria-label="Alinear"></button>
                  <button type="button" class="ql-link" aria-label="Insertar enlace"></button>
                </span>
                <span class="ql-formats">
                  <button type="button" class="ql-clean" aria-label="Quitar estilos"></button>
                </span>
              </ng-template>
            </p-editor>
            <small *ngIf="isValidField('mensaje')" class="text-danger mt-1">{{ getFieldError('mensaje') }}</small>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-12 col-md-2 mb-1 mb-md-0 fw-semibold">Cierre:</div>
          <div class="col-12 col-md-10">
            <p-editor [style]="{ height: '140px' }" formControlName="cierre">
              <ng-template pTemplate="header">
                <span class="ql-formats">
                  <select class="ql-header">
                    <option value="1">Título 1</option>
                    <option value="2">Título 2</option>
                    <option selected>Normal</option>
                  </select>
                  <select class="ql-font">
                    <option selected>Sans Serif</option>
                    <option value="serif">Serif</option>
                    <option value="monospace">Monospace</option>
                  </select>
                </span>
                <span class="ql-formats">
                  <button type="button" class="ql-bold" aria-label="Negrita"></button>
                  <button type="button" class="ql-italic" aria-label="Cursiva"></button>
                  <button type="button" class="ql-underline" aria-label="Subrayado"></button>
                </span>
                <span class="ql-formats">
                  <button type="button" class="ql-list" value="ordered" aria-label="Lista ordenada"></button>
                  <button type="button" class="ql-list" value="bullet" aria-label="Lista con viñetas"></button>
                </span>
                <span class="ql-formats">
                  <button type="button" class="ql-align" value="" aria-label="Alinear"></button>
                  <button type="button" class="ql-link" aria-label="Insertar enlace"></button>
                </span>
                <span class="ql-formats">
                  <button type="button" class="ql-clean" aria-label="Quitar estilos"></button>
                </span>
              </ng-template>
            </p-editor>
            <small *ngIf="isValidField('cierre')" class="text-danger mt-1">{{ getFieldError('cierre') }}</small>
          </div>
        </div>

        <div class="d-flex mb-3 justify-content-end">
          <p-button label="Volver" routerLink="/administracion/plantilla_de_correo" severity="success" styleClass="me-2"/>
          <p-button type="submit" label="Guardar" severity="success" />
        </div>
      </form>
    </div>
  </div>
</div>

<p-toast />
